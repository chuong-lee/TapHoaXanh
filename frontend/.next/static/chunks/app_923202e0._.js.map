{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/WorkSpace/TapHoaXanh/frontend/app/lib/axios.ts"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n})\r\n\r\nexport default api"],"names":[],"mappings":";;;AAGW;AAHX;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;IAC5C,iBAAiB;IACjB,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/WorkSpace/TapHoaXanh/frontend/app/components/Search.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, FormEvent } from 'react'\r\n\r\ninterface SearchFilterProps {\r\n  onFilter: (filters: { search: string; category: string; maxPrice: string }) => void\r\n}\r\n\r\nconst SearchFilter = ({ onFilter }: SearchFilterProps) => {\r\n  const [search, setSearch] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [maxPrice, setMaxPrice] = useState('')\r\n\r\n  const handleSearch = (e: FormEvent) => {\r\n    e.preventDefault()\r\n    onFilter({ search, category, maxPrice })\r\n  }\r\n\r\n  return (\r\n    <form className=\"row mb-4\" onSubmit={handleSearch}>\r\n      <div className=\"col-md-4\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"T√¨m s·∫£n ph·∫©m...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"col-md-3\">\r\n        <select\r\n          className=\"form-select\"\r\n          value={category}\r\n          onChange={(e) => setCategory(e.target.value)}\r\n        >\r\n          <option value=\"\">T·∫•t c·∫£ danh m·ª•c</option>\r\n          <option value=\"rau\">Rau</option>\r\n          <option value=\"thit\">Th·ªãt</option>\r\n          <option value=\"hai-san\">H·∫£i s·∫£n</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"col-md-3\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Gi√° t·ªëi ƒëa\"\r\n          value={maxPrice}\r\n          onChange={(e) => setMaxPrice(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"col-md-2\">\r\n        <button type=\"submit\" className=\"btn btn-success w-100\">T√¨m ki·∫øm</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchFilter\r\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAQA,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAqB;;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS;YAAE;YAAQ;YAAU;QAAS;IACxC;IAEA,qBACE,6LAAC;QAAK,WAAU;QAAW,UAAU;;0BACnC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,MAAK;oBACL,WAAU;oBACV,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;0BAI7C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;sCAE3C,6LAAC;4BAAO,OAAM;sCAAG;;;;;;sCACjB,6LAAC;4BAAO,OAAM;sCAAM;;;;;;sCACpB,6LAAC;4BAAO,OAAM;sCAAO;;;;;;sCACrB,6LAAC;4BAAO,OAAM;sCAAU;;;;;;;;;;;;;;;;;0BAI5B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,MAAK;oBACL,WAAU;oBACV,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;0BAI/C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAO,MAAK;oBAAS,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAIhE;GAlDM;KAAA;uCAoDS","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///D:/WorkSpace/TapHoaXanh/frontend/app/components/Pagination.tsx"],"sourcesContent":["'use client'\r\n\r\ninterface PaginationProps {\r\n  currentPage: number\r\n  totalItems: number\r\n  itemsPerPage: number\r\n  onPageChange: (page: number) => void\r\n  maxPagesToShow?: number // tu·ª≥ ch·ªçn: s·ªë n√∫t ph√¢n trang hi·ªÉn th·ªã (default 5)\r\n}\r\n\r\nexport default function Pagination({\r\n  currentPage,\r\n  totalItems,\r\n  itemsPerPage,\r\n  onPageChange,\r\n  maxPagesToShow = 5,\r\n}: PaginationProps) {\r\n  const totalPages = Math.ceil(totalItems / itemsPerPage)\r\n  if (totalPages <= 1) return null\r\n\r\n  // Hi·ªÉn th·ªã ph√¢n trang d·∫°ng ... 4 5 6 7 8 ...\r\n  let startPage = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2))\r\n  let endPage = startPage + maxPagesToShow - 1\r\n  if (endPage > totalPages) {\r\n    endPage = totalPages\r\n    startPage = Math.max(1, endPage - maxPagesToShow + 1)\r\n  }\r\n  const pages = []\r\n  for (let i = startPage; i <= endPage; i++) {\r\n    pages.push(i)\r\n  }\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination justify-content-center\">\r\n        <li className={`page-item${currentPage === 1 ? ' disabled' : ''}`}>\r\n          <button\r\n            className=\"page-link\"\r\n            onClick={() => onPageChange(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n          >\r\n            Tr∆∞·ªõc\r\n          </button>\r\n        </li>\r\n        {startPage > 1 && (\r\n          <li className=\"page-item\">\r\n            <button className=\"page-link\" onClick={() => onPageChange(1)}>1</button>\r\n            {startPage > 2 && <span className=\"page-link disabled\">...</span>}\r\n          </li>\r\n        )}\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={`page-item${currentPage === page ? ' active' : ''}`}\r\n          >\r\n            <button className=\"page-link\" onClick={() => onPageChange(page)}>\r\n              {page}\r\n            </button>\r\n          </li>\r\n        ))}\r\n        {endPage < totalPages && (\r\n          <li className=\"page-item\">\r\n            {endPage < totalPages - 1 && <span className=\"page-link disabled\">...</span>}\r\n            <button className=\"page-link\" onClick={() => onPageChange(totalPages)}>{totalPages}</button>\r\n          </li>\r\n        )}\r\n        <li className={`page-item${currentPage === totalPages ? ' disabled' : ''}`}>\r\n          <button\r\n            className=\"page-link\"\r\n            onClick={() => onPageChange(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n          >\r\n            Ti·∫øp\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAUe,SAAS,WAAW,EACjC,WAAW,EACX,UAAU,EACV,YAAY,EACZ,YAAY,EACZ,iBAAiB,CAAC,EACF;IAChB,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa;IAC1C,IAAI,cAAc,GAAG,OAAO;IAE5B,6CAA6C;IAC7C,IAAI,YAAY,KAAK,GAAG,CAAC,GAAG,cAAc,KAAK,KAAK,CAAC,iBAAiB;IACtE,IAAI,UAAU,YAAY,iBAAiB;IAC3C,IAAI,UAAU,YAAY;QACxB,UAAU;QACV,YAAY,KAAK,GAAG,CAAC,GAAG,UAAU,iBAAiB;IACrD;IACA,MAAM,QAAQ,EAAE;IAChB,IAAK,IAAI,IAAI,WAAW,KAAK,SAAS,IAAK;QACzC,MAAM,IAAI,CAAC;IACb;IAEA,qBACE,6LAAC;kBACC,cAAA,6LAAC;YAAG,WAAU;;8BACZ,6LAAC;oBAAG,WAAW,CAAC,SAAS,EAAE,gBAAgB,IAAI,cAAc,IAAI;8BAC/D,cAAA,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;kCAC3B;;;;;;;;;;;gBAIF,YAAY,mBACX,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC;4BAAO,WAAU;4BAAY,SAAS,IAAM,aAAa;sCAAI;;;;;;wBAC7D,YAAY,mBAAK,6LAAC;4BAAK,WAAU;sCAAqB;;;;;;;;;;;;gBAG1D,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;wBAEC,WAAW,CAAC,SAAS,EAAE,gBAAgB,OAAO,YAAY,IAAI;kCAE9D,cAAA,6LAAC;4BAAO,WAAU;4BAAY,SAAS,IAAM,aAAa;sCACvD;;;;;;uBAJE;;;;;gBAQR,UAAU,4BACT,6LAAC;oBAAG,WAAU;;wBACX,UAAU,aAAa,mBAAK,6LAAC;4BAAK,WAAU;sCAAqB;;;;;;sCAClE,6LAAC;4BAAO,WAAU;4BAAY,SAAS,IAAM,aAAa;sCAAc;;;;;;;;;;;;8BAG5E,6LAAC;oBAAG,WAAW,CAAC,SAAS,EAAE,gBAAgB,aAAa,cAAc,IAAI;8BACxE,cAAA,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,aAAa,cAAc;wBAC1C,UAAU,gBAAgB;kCAC3B;;;;;;;;;;;;;;;;;;;;;;AAOX;KApEwB","debugId":null}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///D:/WorkSpace/TapHoaXanh/frontend/app/home/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\nimport api from '@/lib/axios'\r\nimport SearchFilter from '@/components/Search'\r\nimport Pagination from '@/components/Pagination'\r\n\r\ninterface Product {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  slug: string\r\n  images: string\r\n  discount: number\r\n  description: string\r\n  category?: string\r\n}\r\n\r\nexport default function HomePage() {\r\n  const [allProducts, setAllProducts] = useState<Product[]>([])\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const itemsPerPage = 20\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await api.get('/products')\r\n        const data: unknown = res.data\r\n\r\n        let productList: Product[] = []\r\n        if (Array.isArray(data)) {\r\n          productList = data as Product[]\r\n        } else if (\r\n          typeof data === 'object' &&\r\n          data !== null &&\r\n          Array.isArray((data as { products?: unknown }).products)\r\n        ) {\r\n          productList = (data as { products: Product[] }).products\r\n        } else {\r\n          console.error('‚ùå D·ªØ li·ªáu s·∫£n ph·∫©m kh√¥ng h·ª£p l·ªá:', data)\r\n        }\r\n\r\n        setAllProducts(productList)\r\n        setProducts(productList)\r\n      } catch (err: unknown) {\r\n        if (err instanceof Error) {\r\n          console.error('üö´ L·ªói l·∫•y danh s√°ch s·∫£n ph·∫©m:', err.message)\r\n        } else {\r\n          console.error('üö´ L·ªói kh√¥ng x√°c ƒë·ªãnh:', err)\r\n        }\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [])\r\n\r\n  const handleFilter = (filters: { search: string; category: string; maxPrice: string }) => {\r\n    const { search, category, maxPrice } = filters\r\n\r\n    const filtered = allProducts.filter((product) => {\r\n      const matchSearch = product.name.toLowerCase().includes(search.toLowerCase())\r\n      const matchCategory = category ? product.category?.toLowerCase() === category : true\r\n      const matchPrice = maxPrice ? product.price <= parseInt(maxPrice, 10) : true\r\n      return matchSearch && matchCategory && matchPrice\r\n    })\r\n\r\n    setProducts(filtered)\r\n    setCurrentPage(1)\r\n  }\r\n\r\n  // T√≠nh to√°n ph√¢n trang\r\n  const startIndex = (currentPage - 1) * itemsPerPage\r\n  const endIndex = startIndex + itemsPerPage\r\n  const currentProducts = products.slice(startIndex, endIndex)\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container mt-4\">\r\n        <SearchFilter onFilter={handleFilter} />\r\n\r\n        {loading ? (\r\n          <p>ƒêang t·∫£i s·∫£n ph·∫©m...</p>\r\n        ) : (\r\n          <>\r\n            {products.length === 0 ? (\r\n              <div className=\"alert alert-warning mt-4 mb-4\">\r\n                Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m ph√π h·ª£p.\r\n              </div>\r\n            ) : (\r\n              <div className=\"row\">\r\n                {currentProducts.map((product) => (\r\n                  <div className=\"col-md-3 mb-4\" key={product.id}>\r\n                    <div className=\"card h-100\">\r\n                      <Image\r\n                        src={product.images.startsWith('http') ? product.images : `/images/products/${product.images}`}\r\n                        className=\"card-img-top\"\r\n                        alt={product.name}\r\n                        width={400}\r\n                        height={300}\r\n                      />\r\n                      <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">{product.name}</h5>\r\n                        <p className=\"card-text\">{product.description}</p>\r\n                        <p className=\"card-text\">\r\n                          <span className=\"text-danger\">{product.price.toLocaleString()}‚Ç´</span>\r\n                          {product.discount > 0 && (\r\n                            <span className=\"ms-2 text-muted text-decoration-line-through\">\r\n                              {(product.price + product.discount).toLocaleString()}‚Ç´\r\n                            </span>\r\n                          )}\r\n                        </p>\r\n                        <Link href={`main/product/${product.slug}`} className=\"btn btn-primary\">Xem chi ti·∫øt</Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* PH√ÇN TRANG - s·ª≠ d·ª•ng props theo Pagination m·ªõi */}\r\n            {products.length > 0 && (\r\n              <Pagination\r\n                currentPage={currentPage}\r\n                totalItems={products.length}\r\n                itemsPerPage={itemsPerPage}\r\n                onPageChange={setCurrentPage}\r\n                maxPagesToShow={5} // C√≥ th·ªÉ b·ªè d√≤ng n√†y n·∫øu kh√¥ng c·∫ßn\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}